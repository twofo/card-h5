(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-appointmentModule-pages-creatorAttendaceApproveDetail-creatorAttendaceApproveDetail"],{"2d13":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'.myui-cell[data-v-a8a9e204]{padding:%?6?% %?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.myui-cell__bd[data-v-a8a9e204]{width:25%}.myui-cell__bf[data-v-a8a9e204]{width:75%;color:#999}.myui-cell__title[data-v-a8a9e204]{margin:%?30?% 0pr %?20?%;color:#999;font-size:18px}\r\n\r\n/* 按钮 */.myui-cell-bottom[data-v-a8a9e204]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#20a4f7;-webkit-align-content:center;align-content:center\r\n  /*align-items: center; */}.myui-cell-bottom[data-v-a8a9e204]{padding:10px 15px;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myui-cell-bottom[data-v-a8a9e204]:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:%?1?% solid #e5e5e5;color:#d9d9d9;left:15px}.myui-cell-bottom[data-v-a8a9e204]:first-child:before{display:none}.myui-cell-bottom__bd[data-v-a8a9e204]{width:50%}.myui-cell-bottom__fd[data-v-a8a9e204]{width:50%;border-left:%?3?% #20a4f7 solid}.myui-center[data-v-a8a9e204]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}',""]),e.exports=t},"49a2":function(e,t,i){"use strict";i.r(t);var a=i("b33c"),l=i("f286");for(var s in l)"default"!==s&&function(e){i.d(t,e,(function(){return l[e]}))}(s);i("7def");var n,o=i("f0c5"),c=Object(o["a"])(l["default"],a["b"],a["c"],!1,null,"a8a9e204",null,!1,a["a"],n);t["default"]=c.exports},"4c38":function(e,t,i){var a=i("2d13");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=i("4f06").default;l("18a55a94",a,!0,{sourceMap:!1,shadowMode:!1})},"7def":function(e,t,i){"use strict";var a=i("4c38"),l=i.n(a);l.a},b33c:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"page__bd",staticStyle:{margin:"10rpx 10rpx"}},[i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{margin:"15rpx 0rpx 0rpx"}},[i("v-uni-view",{staticClass:"weui-cell"},[i("v-uni-view",{staticClass:"weui-cell__bd",staticStyle:{margin:"0rpx 10rpx"}},[e._v("会议考勤："+e._s(e.pageObj.applyType))])],1)],1),i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{"font-size":"15px",padding:"20rpx 0rpx 15rpx"}},[i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__title"},[e._v("个人信息")])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("申请人：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.applePeople))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("学号：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.userCode))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("手机号：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.mobile))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("申请原因：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.applyReason))])],1)],1),i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{"font-size":"15px",padding:"20rpx 0rpx 15rpx"}},[i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__title"},[e._v("会议信息")])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("会议名称：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.meetingName))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("房间号：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.roomName))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("会议类型：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.meetingType))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("会议时间：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.meetingTime))])],1),i("v-uni-view",{staticClass:"myui-cell",staticStyle:{"font-size":"14px"}},[i("v-uni-view",{staticClass:"weui-cell__bd"}),i("v-uni-view",{staticClass:"weui-cell__ft"},[e._v("申请于 "+e._s(e.pageObj.applyTime))])],1)],1),e.pageObj.isPending?i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{"font-size":"15px",margin:"0rpx 0rpx 20rpx"}},[i("v-uni-view",{staticClass:"myui-cell-bottom",staticStyle:{"font-size":"16px"}},[i("v-uni-view",{staticClass:"myui-cell-bottom__bd myui-center",attrs:{"data-id":e.pageObj.applyId},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pageObj.btn[0].bindtap.apply(void 0,arguments)}}},[e._v(e._s(e.pageObj.btn[0].name))]),i("v-uni-view",{staticClass:"myui-cell-bottom__fd myui-center",attrs:{"data-id":e.pageObj.applyId},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pageObj.btn[1].bindtap.apply(void 0,arguments)}}},[e._v(e._s(e.pageObj.btn[1].name))])],1)],1):e._e(),e.pageObj.isPending?e._e():i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{"font-size":"15px",margin:"0rpx 0rpx 20rpx"}},[i("v-uni-view",{staticClass:"myui-cell-bottom",staticStyle:{"font-size":"16px"}},[i("v-uni-view",{staticClass:"myui-cell-bottom__bd myui-center",style:"color:"+e.pageObj.statusColor},[e._v(e._s(e.pageObj.statusName))])],1)],1),e.pageObj.isPending?e._e():i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{"font-size":"15px",padding:"20rpx 0rpx 15rpx"}},[i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[e._v("审核人：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[e._v(e._s(e.pageObj.reviewPerson))])],1),i("v-uni-view",{staticClass:"myui-cell",staticStyle:{"font-size":"14px"}},[i("v-uni-view",{staticClass:"weui-cell__bd"}),i("v-uni-view",{staticClass:"weui-cell__ft"},[e._v("审核时间 "+e._s(e.pageObj.reviewTime))])],1)],1)],1)],1)},s=[]},dce0:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(i("da5f")),s=getApp(),n={data:function(){return{pageObj:{}}},components:{msgNoData:l.default},props:{},onLoad:function(e){console.log("applyId",e.applyId),this.approvalApplyList(e.applyId)},methods:{approvalApplyList:function(e){var t=this;s.globalData.ShowMsgUtil.netErrNotice();var i=s.globalData.StorageUtil.get("userInfoCach");wx.request({url:s.globalData.RequestUrl.appointmentRequestUrl.approvalApplyDetail+"?applyId="+e,method:"GET",header:{token:i.token},success:function(e){console.log("获取审核详情",e.data),e.data&&200==e.data.code?t.dealPageObj(e.data.rows):s.globalData.ShowMsgUtil.showErrorModal("请求失败",e.data.msg,e.data.code)},fail:function(){s.globalData.ShowMsgUtil.showNoneToastByFail()}})},dealPageObj:function(e){var t={};t.applyId=e.applyId,t.applyType=this.dealType(e.applyType),t.applePeople=e.personName,t.userCode=e.username,t.mobile=e.mobile,t.applyReason=e.reason,t.meetingName=e.meetingTitle,t.roomName=e.meetingRoomAddress,t.meetingType=this.dealMeetingType(e.meetingType),t.meetingTime=s.globalData.PublicUtil.formatTimeTwo(e.startTime,"Y-M-D h:m")+"-"+s.globalData.PublicUtil.formatTimeTwo(e.endTime,"h:m"),t.applyTime=s.globalData.PublicUtil.formatTimeTwo(e.applyTime,"Y-M-D h:m");var i=e.handlerResult;10==i?(t.isPending=!0,t.btn=[{name:"拒绝",bindtap:"bindRefuse"},{name:"同意",bindtap:"bindAgree"}]):12==i?(t.isPending=!1,t.statusName="已同意",t.statusColor="rgb(101,213,128)",t.reviewPerson=e.reviewPersonName,t.reviewTime=s.globalData.PublicUtil.formatTimeTwo(e.reviewTime,"Y-M-D h:m")):13==i?(t.isPending=!1,t.statusName="已拒绝",t.statusColor="rgb(234,25,50)",t.reviewPerson=e.reviewPersonName,t.reviewTime=s.globalData.PublicUtil.formatTimeTwo(e.reviewTime,"Y-M-D h:m")):(t.isPending=!1,t.statusName="未知"),console.log("obj-",t),this.setData({pageObj:t})},dealType:function(e){var t="";switch(e){case 30:t="补签",wx.setNavigationBarTitle({title:"补签详情"});break;case 31:t="请假",wx.setNavigationBarTitle({title:"请假详情"});break;default:t="暂无";break}return t},dealMeetingType:function(e){var t="";switch(e){case 1:t="专用会议";break;case 2:t="公开会议";break;default:t="暂无";break}return t},bindAgree:function(e){this.approvalRatify(e.target.dataset.id,12)},bindRefuse:function(e){this.approvalRatify(e.target.dataset.id,13)},approvalRatify:function(e,t){var i=this;s.globalData.ShowMsgUtil.netErrNotice();var a=s.globalData.StorageUtil.get("userInfoCach");wx.request({url:s.globalData.RequestUrl.appointmentRequestUrl.approvalRatify,method:"POST",header:{token:a.token,"content-type":"application/json"},data:{applyId:e,type:t},success:function(a){console.log("同意或拒绝申请返回",a.data),a.data&&200==a.data.code?(13==t?s.globalData.ShowMsgUtil.showSuccessToast("拒绝成功",2e3):12==t?s.globalData.ShowMsgUtil.showSuccessToast("同意成功",2e3):s.globalData.ShowMsgUtil.showSuccessToast("操作成功",2e3),setTimeout((function(){i.approvalApplyList(e)}),2e3)):s.globalData.ShowMsgUtil.showErrorModal("请求失败",a.data.msg,a.data.code)},fail:function(){s.globalData.ShowMsgUtil.showNoneToastByFail()}})}}};t.default=n},f286:function(e,t,i){"use strict";i.r(t);var a=i("dce0"),l=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=l.a}}]);