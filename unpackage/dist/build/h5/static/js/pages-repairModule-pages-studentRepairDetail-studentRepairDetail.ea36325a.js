(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-repairModule-pages-studentRepairDetail-studentRepairDetail"],{"026b":function(e,a,t){"use strict";t.r(a);var n=t("2959"),i=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(a,e,(function(){return n[e]}))}(r);a["default"]=i.a},"15ab":function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,"/* pages/repairModule/resources/components/timeNodes/timeNodes.wxss */.myui-cell-top[data-v-a7d77016]{padding:%?20?% %?0?%}.myui-cell[data-v-a7d77016]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;margin-top:%?20?%}.myui-cell__bd[data-v-a7d77016]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.items-text__top[data-v-a7d77016]{margin-top:%?10?%}.call_bn[data-v-a7d77016]{width:%?130?%;height:%?40?%;border:1px #20a4f7 solid;border-radius:%?25?%;color:#20a4f7;text-align:center;font-size:13px;margin-top:%?6?%}",""]),e.exports=a},"24cd":function(e,a,t){"use strict";var n;t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return n}));var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"page"},[t("v-uni-view",{staticClass:"page__bd"},[0==e.timeNodes.length?t("v-uni-view",[t("v-uni-view",{staticClass:"weui-cells__box"},[e._v("暂无数据")])],1):t("v-uni-view",{staticClass:"weui__bd myui__box"},[t("repair-detail",{attrs:{pageObj:e.pageObj}}),t("time-nodes",{attrs:{list:e.timeNodes},on:{call:function(a){arguments[0]=a=e.$handleEvent(a),e.bindCallPhone.apply(void 0,arguments)}}})],1)],1)],1)},r=[]},2959:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=getApp(),i={data:function(){return{}},components:{},props:{list:{type:Array,default:function(){return[]}}},methods:{toCall:function(e){console.log(e),console.log(e.currentTarget.dataset.phone),this.$emit("call",{detail:{phone:e.currentTarget.dataset.phone}})},toComment:function(e){console.log(e);var a=e.currentTarget.dataset.code,t=e.currentTarget.dataset.name;n.globalData.PublicUtil.navigateByUrl(n.globalData.PageUrl.repairPageUrl.studentRepairCommentUrl+"?repairCode="+a+"&nameOfMaintainer="+t,500)}}};a.default=i},5293:function(e,a,t){var n=t("7eec");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("25a4d6e1",n,!0,{sourceMap:!1,shadowMode:!1})},6657:function(e,a,t){"use strict";var n=t("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("3fb6")),r=n(t("bc28")),o=getApp(),s=t("ddc5"),c=t("c2d6"),l={data:function(){return{pageObj:{btnObj:{name:""}},timeNodes:[]}},components:{repairDetail:i.default,timeNodes:r.default},props:{},onLoad:function(e){console.log("------------------------报修详情------------------------"),console.log("选中报修单号",e.repairCode),this.selectRepairByCode(e.repairCode)},onShow:function(){},methods:{selectRepairByCode:function(e){var a=this;o.globalData.ShowMsgUtil.netErrNotice();var t=o.globalData.StorageUtil.get("userInfoCach");wx.request({url:o.globalData.RequestUrl.repairRequestUrl.selectRepairByCode+"?repairCode="+e,method:"GET",header:{token:t.token},success:function(e){if(console.log("查询报修详情返回",e.data),e.data&&200==e.data.code){var t=e.data.rows;console.log(t),t.deviceName=s.deviceType(t.deviceTypeId),t.statusName=s.status(t.repairStatus),a.dealTimeNodes(t),console.log(t),a.setData({pageObj:t}),console.log(a.pageObj)}else o.globalData.ShowMsgUtil.showErrorModal("请求失败",e.data.msg,e.data.code)},fail:function(){o.globalData.ShowMsgUtil.showNoneToastByFail()}})},dealTimeNodes:function(e){var a=[],t=e.repairStatus,n=(e.successTime,{});if(console.log(t),n.imgUrl=c.icProcessBlue,n.statusName="待处理",n.msg="",n.time=e.timeOfRepairApply,n.btnObj="",n.userNameOfMaintainer=e.userNameOfMaintainer,n.phoneOfMaintainer=e.phoneOfMaintainer,n.repairCode=e.repairCode,a[0]=n,3==t||4==t||5==t){a[0].imgUrl=c.icProcessGray,a[0].btnObj="",n={},n.imgUrl=c.icProcessBlue,n.statusName="处理中";var i=null==e.userNameOfMaintainer?e.userNameOfMaintainer:"师傅";n.msg=i+"已经开始处理啦，预计"+e.toMaintainTime+"上门维修，请耐心等候 ~ ",n.time=e.timeOfProcess;var r={name:"联系Ta",bindtap:"toCall"};n.btnObj=r,n.userNameOfMaintainer=e.userNameOfMaintainer,n.phoneOfMaintainer=e.phoneOfMaintainer,n.repairCode=e.repairCode,a[1]=a[0],a[0]=n,console.log("obj",n)}if(4==t||5==t){a[0].imgUrl=c.icProcessGray,a[0].btnObj="";var o={};o.imgUrl=c.icProcessBlue,o.statusName=e.statusName;var s=null==e.userNameOfMaintainer?"师傅":e.userNameOfMaintainer;o.msg=s+"已经完成工单啦，请对本次维修服务作出评价",o.time=e.timeOfSuccess;var l={name:"去评价",bindtap:"toComment"};o.btnObj=l,o.userNameOfMaintainer=e.userNameOfMaintainer,o.phoneOfMaintainer=e.phoneOfMaintainer,o.repairCode=e.repairCode,console.log(o),5==t&&(l.statc=1,l.name="",o.msg="已经对本次维修服务作出评价"),a[2]=a[1],a[1]=a[0],a[0]=o,console.log(o)}console.log("维修单详情",a),this.setData({timeNodes:a}),console.log(this.timeNodes)},bindCallPhone:function(e){var a=e.detail.phone;this.callPhone(a)},callPhone:function(e){wx.showModal({title:"呼叫",content:"拨打"+e,success:function(a){a.confirm?wx.makePhoneCall({phoneNumber:e}):a.cancel&&console.log("用户点击取消")}})}}};a.default=l},"6acb":function(e,a,t){"use strict";var n;t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return n}));var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"myui-cell-top"},e._l(e.list,(function(a,n){return t("v-uni-view",{key:n},[t("v-uni-view",{staticClass:"myui-cell"},[t("v-uni-view",{staticClass:"weui-cell__hd",staticStyle:{"margin-right":"10px"}},[t("v-uni-image",{staticStyle:{width:"50rpx",height:"50rpx"},attrs:{src:a.imgUrl}})],1),t("v-uni-view",{staticClass:"myui-cell__bd"},[t("v-uni-view",[e._v(e._s(a.statusName))]),t("v-uni-view",{staticStyle:{"font-size":"13px",color:"#999","line-height":"30rpx",display:"flex","flex-direction":"column"}},[""!=a.msg?t("v-uni-text",{staticClass:"items-text__top",staticStyle:{width:"90%"}},[e._v(e._s(a.msg))]):e._e(),t("v-uni-text",{staticClass:"items-text__top"},[e._v(e._s(a.time))])],1)],1),1!==a.btnObj.statc?t("v-uni-view",{staticClass:"weui-cell__ft"},["toCall"==a.btnObj.bindtap?t("v-uni-view",{staticClass:"call_bn",attrs:{"data-phone":a.phoneOfMaintainer,"data-code":a.repairCode,"data-name":a.userNameOfMaintainer},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.toCall.apply(void 0,arguments)}}},[t("v-uni-text",[e._v(e._s(a.btnObj.name))])],1):e._e(),"toComment"==a.btnObj.bindtap?t("v-uni-view",{staticClass:"call_bn",attrs:{"data-phone":a.phoneOfMaintainer,"data-code":a.repairCode,"data-name":a.userNameOfMaintainer},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.toComment.apply(void 0,arguments)}}},[t("v-uni-text",[e._v(e._s(a.btnObj.name))])],1):e._e()],1):e._e()],1)],1)})),1)},r=[]},"7eec":function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,".myui__box[data-v-6bb31a8b]{padding:%?10?% %?20?%}.myui-cell[data-v-6bb31a8b]{padding:10px 2px;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center}.call_bn[data-v-6bb31a8b]{width:%?130?%;height:%?40?%;border:1px #20a4f7 solid;border-radius:%?25?%;color:#20a4f7;text-align:center;font-size:13px}.myui-cell-top[data-v-6bb31a8b]{margin-top:%?50?%}",""]),e.exports=a},"900b":function(e,a,t){"use strict";var n=t("5293"),i=t.n(n);i.a},a796:function(e,a,t){var n=t("15ab");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("0f226f9f",n,!0,{sourceMap:!1,shadowMode:!1})},bc28:function(e,a,t){"use strict";t.r(a);var n=t("6acb"),i=t("026b");for(var r in i)"default"!==r&&function(e){t.d(a,e,(function(){return i[e]}))}(r);t("e043");var o,s=t("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"a7d77016",null,!1,n["a"],o);a["default"]=c.exports},c2d6:function(e,a){var t="/static/pages/repairModule/resources/pic",n={image:t,repairApplyPic:"".concat(t,"/repair_apply.png"),myRepairPic:"".concat(t,"/repair_my.png"),starOn:"".concat(t,"/star_on.png"),starOff:"".concat(t,"/star_off.png"),icCall:"".concat(t,"/ic_call.png"),icProcessBlue:"".concat(t,"/ic_process_blue.png"),icProcessGray:"".concat(t,"/ic_process_gray.png"),navHomePage:"".concat(t,"/nav_home_page.png"),navHomePagePressed:"".concat(t,"/nav_home_page_pressed.png"),navMine:"".concat(t,"/nav_mine.png"),navMinePressed:"".concat(t,"/nav_mine_pressed.png"),navWorkerOrder:"".concat(t,"/nav_worker_order.png"),navWorkerOrderPressed:"".concat(t,"/nav_worker_order_pressed.png"),navNew:"".concat(t,"/nav_new.png"),navNewPressed:"".concat(t,"/nav_new_pressed.png"),bgRepairHeader:"".concat(t,"/bg_repair_header.png"),mineFunRecord:"".concat(t,"/mine_fun_record.png"),icStars:"".concat(t,"/ic_stars.png"),icTypeOther:"".concat(t,"/ic_type_other.png"),icRepairLock:"".concat(t,"/ic_repair_lock.png"),icRepairAmmeter:"".concat(t,"/ic_repair_ammeter.png"),icRepairWatermeter:"".concat(t,"/ic_repair_watermeter.png"),icRepairLamp:"".concat(t,"/ic_repair_lamp.png"),icClose:"".concat(t,"/close.png")};e.exports=n},ddc5:function(e,a){getApp().globalData;function t(e){var a="";return 0==e?a="其它":1==e?a="门锁":2==e?a="水表":3==e?a="消费机":4==e?a="电表":5==e&&(a="空调电表"),a}function n(e){var a="";return 1==e?a="待分配":2==e?a="待接单":3==e?a="处理中":4==e?a="已完成":5==e?a="已评价":6==e&&(a="已拒绝"),a}e.exports={status:n,deviceType:t}},e043:function(e,a,t){"use strict";var n=t("a796"),i=t.n(n);i.a},ed60:function(e,a,t){"use strict";t.r(a);var n=t("6657"),i=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(a,e,(function(){return n[e]}))}(r);a["default"]=i.a},efe4:function(e,a,t){"use strict";t.r(a);var n=t("24cd"),i=t("ed60");for(var r in i)"default"!==r&&function(e){t.d(a,e,(function(){return i[e]}))}(r);t("900b");var o,s=t("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"6bb31a8b",null,!1,n["a"],o);a["default"]=c.exports}}]);