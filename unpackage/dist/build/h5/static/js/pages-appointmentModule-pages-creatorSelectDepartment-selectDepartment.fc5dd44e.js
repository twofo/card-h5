(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-appointmentModule-pages-creatorSelectDepartment-selectDepartment"],{"028e":function(e,t,a){"use strict";a.r(t);var o=a("2a19"),c=a.n(o);for(var s in o)"default"!==s&&function(e){a.d(t,e,(function(){return o[e]}))}(s);t["default"]=c.a},1097:function(e,t,a){"use strict";var o=a("b517"),c=a.n(o);c.a},"1adb":function(e,t,a){"use strict";a.r(t);var o=a("9b52"),c=a("028e");for(var s in c)"default"!==s&&function(e){a.d(t,e,(function(){return c[e]}))}(s);a("1097");var i,l=a("f0c5"),n=Object(l["a"])(c["default"],o["b"],o["c"],!1,null,"1385ca4d",null,!1,o["a"],i);t["default"]=n.exports},"2a19":function(e,t,a){"use strict";var o=a("4ea4");a("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(a("e8d7")),s=o(a("fa13")),i=getApp(),l={data:function(){return{checkboxItems:[],checkAll:{},limitSelectPerson:"",parentId:0,selectType:1,showBtn:!1,disableds:!1,isCheckAllShow:!1,ifNoChecked:!1,cancelCheckedItem:[],stidentCount:!1,disabled:!1,sHeight:427}},components:{selectRecevice:c.default,searchInp:s.default},onLoad:function(e){if(this.checkboxItems=[],console.log("页面初始化-----------------------",this.checkboxItems),e.limitSelectPerson){var t=e.limitSelectPerson;this.setData({limitSelectPerson:t})}},watch:{checkboxItems:function(e){console.log("监听-------------------",e),this.checkboxItems=e}},onShow:function(){var e=i.globalData.SystemInfo.screenHeight-340;console.log("显示已选人员",this.checkboxItems),this.storegeDataFun(),this.setData({disabled:!1,sHeight:e})},onHide:function(){console.log("页面隐藏时触发"),this.setData({checkboxItems:[]}),console.log(this.checkboxItems)},methods:{storegeDataFun:function(){var e=i.globalData.StorageUtil.get("attendeeStudentCach"),t=i.globalData.StorageUtil.get("hosterCach"),a=i.globalData.StorageUtil.get("recoderCach"),o=this.limitSelectPerson;this.ifNoChecked;"attendee"==o?e.length>0?(this.dataFun(e),this.setData({ifNoChecked:!0})):this.setData({checkboxItems:[],ifNoChecked:!1}):"hoster"==o?t.length>0?(this.dataFun(t),this.setData({ifNoChecked:!0})):this.setData({checkboxItems:[],ifNoChecked:!1}):"recoder"==o&&(a.length>0?(this.dataFun(a),this.setData({ifNoChecked:!0})):this.setData({checkboxItems:[],ifNoChecked:!1}))},dataFun:function(e){for(var t=[],a=0;a<e.length;a++){var o={};o.id=e[a].id,o.name=e[a].name,o.selectType=e[a].selectType,o.selectRole=e[a].selectRole,o.isHasChild=e[a].isHasChild,o.checked=e[a].checked;var c=e[a].selectRole+e[a].id+e[a].selectType;o.value=String(c),t[a]=o}this.checkboxItems=t},gotoSearch:function(){this.setData({disabled:!0});var e=this.limitSelectPerson;this.delStorageData(),i.globalData.ShowMsgUtil.showLoadToast("正在跳转...",500),i.globalData.PublicUtil.navigateByUrl(i.globalData.PageUrl.appointmentPageUrl.selectClasslUrl+"?parentId=141&limitSelectPerson="+e,500)},singleChecked:function(e){console.log(e);var t=e.detail,a=t.id,o=(t.value,t.checked),c=t.level,s=t.type,i=this.checkboxItems;console.log(o);for(var l=0,n=i.length;l<n;l++)i[l].id==a&&i[l].selectRole==c&&i[l].selectType==s&&(i[l].checked=!!i[l].checked);console.log(i),this.setData({cancelCheckedItem:i})},submitNumBtn:function(){uni.navigateBack({delta:1})},delStorageData:function(){var e=this.limitSelectPerson,t=this.cancelCheckedItem,a=this.checkboxItems;if(t.length>0)var o=this.getSelectDate(t);else o=this.getSelectDate(a);if(console.log(o),"attendee"==e)var c=i.globalData.StorageUtil.get("attendeeStudentCach");else if("hoster"==e)c=i.globalData.StorageUtil.get("hosterCach");else if("recoder"==e)c=i.globalData.StorageUtil.get("recoderCach");console.log(c);var s=this.cancelChecked(c,o);console.log(s),"attendee"==e?i.globalData.StorageUtil.set("attendeeStudentCach",s):"hoster"==e?i.globalData.StorageUtil.set("hosterCach",s):"recoder"==e&&i.globalData.StorageUtil.set("recoderCach",s)},getSelectDate:function(e){for(var t=[],a=0,o=0,c=e.length;o<c;++o)e[o].checked||(t[a]=e[o],a++);return t},cancelChecked:function(e,t){var a=[];if(e&&t){for(var o=0;o<t.length;o++)for(var c=0;c<e.length;c++)e[c].id==t[o].id&&e[c].selectRole==t[o].selectRole&&e[c].selectType==t[o].selectType&&(e.splice(c,1),c-=1);return a=e,a}}}};t.default=l},"9b52":function(e,t,a){"use strict";var o;a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o}));var c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"page__bd",staticStyle:{padding:"10rpx 10rpx"}},[a("select-recevice",{attrs:{showBtn:e.showBtn,sHeight:e.sHeight,isCheckAllShow:e.isCheckAllShow,disableds:e.disableds,checkboxItems:e.checkboxItems,checkAll:e.checkAll,stidentCount:e.stidentCount},on:{singleChecked:function(t){arguments[0]=t=e.$handleEvent(t),e.singleChecked.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"foot-btn page__bd page__bd_spacing "},[a("v-uni-button",{staticClass:"weui-btn",attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.gotoSearch.apply(void 0,arguments)}}},[e._v("前 往 搜 索")]),e.ifNoChecked?a("v-uni-button",{staticClass:"weui-btn",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitNumBtn.apply(void 0,arguments)}}},[e._v("确 定")]):e._e()],1)],1)},s=[]},b517:function(e,t,a){var o=a("c92c");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var c=a("4f06").default;c("17488704",o,!0,{sourceMap:!1,shadowMode:!1})},c92c:function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,".searchBox[data-v-1385ca4d]{padding:0 %?20?%;box-sizing:border-box}.foot-btn[data-v-1385ca4d]{\r\n  /* display: flex; */width:100%;padding:0 %?30?%;box-sizing:border-box}.foot-btn uni-button[data-v-1385ca4d]{margin-bottom:%?30?%}",""]),e.exports=t}}]);