(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-appointmentModule-pages-attendMeetingList-attendMeetingList"],{"1dc1":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("b35c")),o=a(i("da5f")),s=getApp(),c=i("3350"),l={data:function(){return{pageObj:{},imageObj:c,tabs:["全部","未开始","进行中","已完成"],activeIndex:0,countries:["内部会议","开放式会议"],pullDownNumber:0,windowHeight:0,isCanLoad:!0,attanceCount:0,nomore:!1,scrollTop:0,type:-1}},components:{navbar:n.default,msgNoData:o.default},props:{},onLoad:function(t){if(console.log(t),t.type&&("kqlb"==t.type?uni.setNavigationBarTitle({title:"考勤_会议考勤_列表"}):uni.setNavigationBarTitle({title:"考勤_会议考勤_参会记录"}),this.setData({type:t.type})),this.setData({windowHeight:wx.getSystemInfoSync().windowHeight}),this.attanceCount=0,this.isCanLoad=!0,3==this.activeIndex){var e=[3];this.listByStatus(e,3,0)}else if(2==this.activeIndex){var i=[2];this.listByStatus(i,3,0)}else if(1==this.activeIndex){var a=[1];this.listByStatus(a,3,0)}else if(0==this.activeIndex){var n=[1,2,3];this.listByStatus(n,3,0)}this.setData({nomore:!1})},onPullDownRefresh:function(){},methods:{listByStatus:function(t,e,i){s.globalData.ShowMsgUtil.showLoadAndMsgToast();var a=this;s.globalData.ShowMsgUtil.netErrNotice();var n=s.globalData.StorageUtil.get("userInfoCach");wx.request({url:s.globalData.RequestUrl.appointmentRequestUrl.listByStatus+"?take="+e+"&skip="+i+"&userRole=2&meetingStatus="+t,method:"GET",header:{token:n.token},success:function(t){console.log("会议列表",t.data),t.data&&200==t.data.code?(a.dealPageObj(t.data.rows),t.data.rows.length==a.attanceCount?a.setData({isCanLoad:!1,nomore:!0}):(a.pullDownNumber++,a.attanceCount=t.data.rows.length,a.isCanLoad=!0)):s.globalData.ShowMsgUtil.showErrorModal("请求失败",t.data.msg,t.data.code)},fail:function(){s.globalData.ShowMsgUtil.showNoneToastByFail()},complete:function(){wx.hideToast({})}})},dealPageObj:function(t){this.countries;for(var e=[],i=0;i<t.length;i++){var a={};a.meetingId=t[i].meetingId,a.meetingTitle=t[i].meetingSubject,a.meetingRoomName=t[i].meetingRoomName,a.meetingType=t[i].meetingType,a.meetingTime=s.globalData.PublicUtil.formatTimeTwo(t[i].meetingStartTime,"Y-M-D h:m")+"-"+s.globalData.PublicUtil.formatTimeTwo(t[i].meetingEndTime,"h:m"),a.meetingInitiator=t[i].meetingInitiator,a.createTime=t[i].createTime,3==t[i].meetingStatus?(a.statusName="已结束",a.statusImage=c.approvePic,a.status=4):2==t[i].meetingStatus?(a.statusName="会议进行中",a.statusImage=c.readyStartPic,a.status=3):1==t[i].meetingStatus?(a.statusName="即将开始",a.statusImage=c.readyStartingPic,a.status=2):0==t[i].meetingStatus?(a.statusName="正在审批中",a.statusImage=c.checkPendingPic,a.status=1):(a.statusName="预约审核失败",a.statusImage=c.unapprovePic,a.status=0),e[i]=a}console.log("array-",e),this.setData({pageObj:e})},bindClickTabs:function(t){this.attanceCount=0,this.pullDownNumber=0;var e=t.detail.activeIndex;if(this.pageObj.creatMeetingList=[],this.setData({isCanLoad:!0,pageObj:[],activeIndex:e,nomore:!1}),3==e){var i=[3];this.listByStatus(i,3,0)}else if(2==e){var a=[2];this.listByStatus(a,3,0)}else if(1==e){var n=[1];this.listByStatus(n,3,0)}else{var o=[1,2,3];this.listByStatus(o,3,0)}},lower:function(){var t=this,e=[];e=3==t.activeIndex?[3]:2==t.activeIndex?[2]:1==t.activeIndex?[1]:[1,2,3],this.isCanLoad&&this.listByStatus(e,3*(t.pullDownNumber+1),0)},scroll:function(t){},toDetail:function(t){console.log(t),s.globalData.PublicUtil.navigateByUrl(s.globalData.PageUrl.appointmentPageUrl.attendMeetingDetailUrl+"?meetingId="+t.id+"&status="+t.status+"&type="+this.type,500)}}};e.default=l},"27fd":function(t,e,i){var a=i("b5eb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("097f58de",a,!0,{sourceMap:!1,shadowMode:!1})},"2d49":function(t,e,i){"use strict";i.r(e);var a=i("1dc1"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},3350:function(t,e){var i="/static/pages/appointmentModule/resources/pic",a={image:i,optionAppointmentPic:"".concat(i,"/option_appointment.png"),optionAttendanceApprovePic:"".concat(i,"/option_attendance_approve.png"),optionMakeCardApplyPic:"".concat(i,"/option_make_card_apply.png"),meetingAttendanceListPic:"".concat(i,"/meeting_attendance_list.png"),meetingAttendanceSignInPic:"".concat(i,"/meeting_attendance_sign_in.png"),blueRecord:"".concat(i,"/blueRecord.png"),closeDefault:"".concat(i,"/closeDefault.png"),closeOpen:"".concat(i,"/closeOpen.png"),loadingPic:"".concat(i,"/loading.png"),checkPendingPic:"".concat(i,"/check_pending.png"),approvePic:"".concat(i,"/approve.png"),unapprovePic:"".concat(i,"/unapprove.png"),nostartPic:"".concat(i,"/nostart.png"),readyStartPic:"".concat(i,"/action.png"),submitCluePic:"".concat(i,"/submit_clue.png"),meetingRoomSmallPic:"".concat(i,"/meeting_room_small.png"),meetingRoomMiddlePic:"".concat(i,"/meeting_room_middle.png"),meetingRoomBigPic:"".concat(i,"/meeting_room_big.png"),meetingRoomFrobidPic:"".concat(i,"/meeting_room_frobid.png"),requiredPic:"".concat(i,"/required.png"),attendaceRightPic:"".concat(i,"/right.png"),attendaceErrorPic:"".concat(i,"/error.png"),readyStartingPic:"".concat(i,"/stating.png"),uploadImgPic:"".concat(i,"/Group.png"),blueSignPic:"".concat(i,"/blueSign.png"),changGuanAppiontPic:"".concat(i,"/PIM.png"),meetingRecordPic:"".concat(i,"/meetingRecord.png"),meetingRoomPic:"".concat(i,"/meetingRoom.png"),pianoRoomPic:"".concat(i,"/pianoRoom.png"),dancingPic:"".concat(i,"/dancing.png"),dancingListPic:"".concat(i,"/dancingList.png"),meetingOutPic:"".concat(i,"/meetinOut.png")};t.exports=a},"4d1a":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"page__bd"},[i("navbar",{attrs:{tabs:t.tabs},on:{clickTabs:function(e){arguments[0]=e=t.$handleEvent(e),t.bindClickTabs.apply(void 0,arguments)}}}),i("v-uni-scroll-view",{style:"height: "+(1.9*t.windowHeight-65)+"rpx;",attrs:{"scroll-y":!0,"scroll-top":t.scrollTop,"lower-threshold":"1","upper-threshold":"10"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},[0==t.pageObj.length?i("v-uni-view",[i("msg-no-data",{attrs:{msg:"暂无数据"}})],1):i("v-uni-view",{staticClass:"myui__bd"},t._l(t.pageObj,(function(e,a){return i("v-uni-view",{key:a,staticStyle:{margin:"9rpx 10rpx"}},[i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{margin:"15rpx 0rpx 0rpx"}},[i("v-uni-view",{staticClass:"weui-cell"},[i("v-uni-view",{staticClass:"weui-cell__hd"},[i("v-uni-image",{staticStyle:{"margin-right":"5px","vertical-align":"middle",width:"23px",height:"25px"},attrs:{src:e.statusImage}})],1),i("v-uni-view",{staticClass:"weui-cell__bd"},[t._v(t._s(e.statusName))]),i("v-uni-view",{staticClass:"weui-cell__ft weui-cell__ft_in-access",staticStyle:{"font-size":"14px"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail({id:e.meetingId,status:e.status})}}},[t._v("查看")])],1)],1),i("v-uni-view",{staticClass:"weui-cells weui-cells_after-title",staticStyle:{"font-size":"15px",padding:"0rpx 0rpx 20rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail({id:e.meetingId,status:e.status})}}},[i("v-uni-view",{staticClass:"weui-cell meetTitle",staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(t._s(e.meetingTitle))]),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[t._v("房间号：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[t._v(t._s(e.meetingRoomName))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[t._v("会议类型：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[1==e.meetingType?i("v-uni-view",[t._v("内部会议")]):t._e(),2==e.meetingType?i("v-uni-view",[t._v("开放会议")]):t._e()],1)],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[t._v("会议时间：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[t._v(t._s(e.meetingTime))])],1),i("v-uni-view",{staticClass:"myui-cell"},[i("v-uni-view",{staticClass:"myui-cell__bd"},[t._v("发起人：")]),i("v-uni-view",{staticClass:"myui-cell__bf"},[t._v(t._s(e.meetingInitiator))])],1),i("v-uni-view",{staticClass:"myui-cell",staticStyle:{"font-size":"14px",margin:"10rpx 0rpx 0rpx"}},[i("v-uni-view",{staticClass:"myui-cell__bf"},[t._v("发布于 "+t._s(e.createTime))])],1)],1)],1)})),1),t.pageObj.length>0&&t.nomore?i("v-uni-view",{staticStyle:{"margin-top":"-300rpx"}},[i("msg-no-data",{attrs:{msg:"到底了"}})],1):t._e()],1)],1)],1)},o=[]},a18eb:function(t,e,i){"use strict";var a=i("27fd"),n=i.n(a);n.a},a408:function(t,e,i){"use strict";i.r(e);var a=i("4d1a"),n=i("2d49");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("a18eb");var s,c=i("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"194381da",null,!1,a["a"],s);e["default"]=l.exports},b5eb:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.myui-cell[data-v-194381da]{padding:%?5?% %?35?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.myui-cell-bottom[data-v-194381da]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#20a4f7;-webkit-align-content:center;align-content:center\r\n  /*align-items: center; */}.myui-cell-bottom[data-v-194381da]{padding:10px 15px;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myui-cell-bottom[data-v-194381da]:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:%?1?% solid #e5e5e5;color:#d9d9d9;left:15px}.myui-cell-bottom[data-v-194381da]:first-child:before{display:none}.myui-cell-bottom__bd[data-v-194381da]{width:50%}.myui-cell-bottom__fd[data-v-194381da]{width:50%;border-left:%?3?% #20a4f7 solid}.myui-cell__bd[data-v-194381da]{width:25%}.myui-cell__bf[data-v-194381da]{width:75%;color:#999}.myui-center[data-v-194381da]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.meetTitle[data-v-194381da]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:93%;display:block}',""]),t.exports=e}}]);