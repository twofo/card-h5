(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mineModule-pages-lossApply-lossApply"],{"15ac":function(a,t,e){"use strict";var o=e("c47e"),s=e.n(o);s.a},"3cbb":function(a,t,e){"use strict";e.r(t);var o=e("8b17"),s=e.n(o);for(var l in o)"default"!==l&&function(a){e.d(t,a,(function(){return o[a]}))}(l);t["default"]=s.a},"596a":function(a,t,e){var o=e("24fb");t=o(!1),t.push([a.i,'.reporter-user[data-v-3e96cea7]{height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:16pt;margin-top:%?45?%;margin-bottom:%?15?%;padding-left:%?35?%}uni-button[type="primary"][data-v-3e96cea7]{background-color:#20a4f7}',""]),a.exports=t},"8b17":function(a,t,e){"use strict";var o=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(e("32e2")),l=getApp(),r={data:function(){return{userDetailCach:{},userInfoCach:{},cardState:"",disabled:!1}},components:{userDetailList:s.default},props:{},onLoad:function(){console.log("------------------------卡挂失申请------------------------");var a=this,t=l.globalData.StorageUtil.get("userInfoCach");a.setData({userInfoCach:t});var e=l.globalData.StorageUtil.get("userDetailCach");if(e){var o=l.globalData.PublicUtil.isNullDeal(t,e);a.setData({userDetailCach:o})}else a.getUserDetail()},methods:{getUserDetail:function(){l.globalData.ShowMsgUtil.netErrNotice(),l.globalData.ShowMsgUtil.showLoadToast();var a=this,t=a.userInfoCach;wx.request({url:l.globalData.RequestUrl.baseRequestUrl.getUserDetail,data:{},header:{token:t.token,"content-type":"application/json"},method:"POST",success:function(e){if(console.log("用户详情返回",e.data),wx.hideToast(),e.data&&200==e.data.code){var o=l.globalData.PublicUtil.isNullDeal(t,e.data.rows);a.setData({userDetailCach:o}),l.globalData.StorageUtil.set("userDetailCach",e.data.rows)}else l.globalData.ShowMsgUtil.showErrorModal("请求失败",e.data.msg,e.data.code)},fail:function(){wx.hideToast(),l.globalData.ShowMsgUtil.showNoneToastByFail()}})},submitApply:function(a){var t=this;wx.showModal({title:"提示",content:"是否确认提交申请？",confirmColor:"#20a4f7",success:function(a){a.confirm&&t.getCard()}})},getCard:function(){var a=this;l.globalData.ShowMsgUtil.netErrNotice(),wx.request({url:l.globalData.RequestUrl.baseRequestUrl.getCardInfo,header:{token:a.userInfoCach.token},method:"GET",success:function(t){if(console.log("获取卡状态返回",t.data),t.data&&200==t.data.code){if(1==t.data.rows.cardState)return void l.globalData.ShowMsgUtil.showErrorModal("挂失失败！","该卡号未激活");if(3==t.data.rows.cardStatus)return void l.globalData.ShowMsgUtil.showErrorModal("挂失失败！","该卡号已挂失");if(4==t.data.rows.cardStatus)return void l.globalData.ShowMsgUtil.showErrorModal("挂失失败！","该卡号已被冻结");2==t.data.rows.cardStatus&&(console.log("卡挂失申请提交"),a.submitRequest())}else l.globalData.ShowMsgUtil.showErrorModal("请求失败",t.data.msg,t.data.code)},fail:function(){l.globalData.ShowMsgUtil.showNoneToastByFail()}})},submitRequest:function(){var a=this;l.globalData.ShowMsgUtil.netErrNotice();var t=a.userInfoCach.token;wx.request({url:l.globalData.RequestUrl.baseRequestUrl.cardLossApply,data:{},header:{token:t,"content-type":"application/json"},method:"POST",success:function(a){console.log("挂失申请返回",a.data),a.data&&200==a.data.code?l.globalData.ShowMsgUtil.showSuccessAndReturn("挂失申请成功！",2e3):l.globalData.ShowMsgUtil.showErrorModal("请求失败",a.data.msg,a.data.code)},fail:function(){l.globalData.ShowMsgUtil.showNoneToastByFail()}})}}};t.default=r},be80:function(a,t,e){"use strict";var o;e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return l})),e.d(t,"a",(function(){return o}));var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"page"},[e("v-uni-view",{staticClass:"reporter-user"},[e("v-uni-text",{staticClass:"reporter-detail-title"},[a._v("持卡人信息")])],1),e("v-uni-view",{staticClass:"page__bd"},[e("user-detail-list",{attrs:{userDetailCach:a.userDetailCach,userInfoCach:a.userInfoCach,isUserDetail:1}})],1),e("v-uni-view",{staticClass:"page__bd page__bd_spacing"},[e("v-uni-button",{staticClass:"weui-btn page_submit",attrs:{type:"primary",disabled:a.disabled},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.submitApply.apply(void 0,arguments)}}},[a._v("提交申请")])],1)],1)},l=[]},c47e:function(a,t,e){var o=e("596a");"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var s=e("4f06").default;s("2fd21ca6",o,!0,{sourceMap:!1,shadowMode:!1})},d5a8:function(a,t,e){"use strict";e.r(t);var o=e("be80"),s=e("3cbb");for(var l in s)"default"!==l&&function(a){e.d(t,a,(function(){return s[a]}))}(l);e("15ac");var r,i=e("f0c5"),n=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,"3e96cea7",null,!1,o["a"],r);t["default"]=n.exports}}]);